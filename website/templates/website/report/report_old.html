{% extends "website/base.html" %}
{% load static %}
{% load other %}
{% load monsters %}

{% block content_title %}
    Old Reports
{% endblock %}

{% block ajax_container %} 
    <button name="swap-view" id="swap-view" class="btn btn-secondary btn-block">Change View</button><br />
    <div class="row images" id="row-images">
        {% for image in images %}
            <div class="col-6 col-sm-2" style="margin-bottom: 25px;">
                <a href="{% static 'website/reports/'|add_str:image %}" target="_blank">
                    <img src="{% static 'website/reports/'|add_str:image %}" class="old-report-image">
                </a>
            </div>
        {% endfor %}
    </div>
    <div class="row cards" id="row-cards">
        {% for image_key, image_val in images.items %}
            <div class="col-6 col-sm-3">
                <div class="card-custom disclaimer">
                    <div class="card-custom-header">
                        {{ image_key|monster_name_from_filename }} ({{ image_val }})
                    </div>
                    <div class="card-custom-body">
                        <a class='dark-href' href="{% static 'website/reports/'|add_str:image_key %}" target="_blank">Click to see image</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}

{% block jquery %}
<script>
    $('#swap-view').click(function() {
        if($('#row-images').css('visibility') == 'hidden'){
            $('#row-images').css('visibility', 'visible');
            $('#row-cards').css('visibility', 'hidden');
            $('#row-images').css('position', 'relative');
            $('#row-cards').css('position', 'absolute');
        }
        else{
            $('#row-images').css('visibility', 'hidden');
            $('#row-cards').css('visibility', 'visible');
            $('#row-images').css('position', 'absolute');
            $('#row-cards').css('position', 'relative');
        }
    })
</script>


{% endblock %}