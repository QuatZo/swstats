{% load static %}
{% load other %}
{% load monsters %}

<div class="title-container">
    <h2 class="title">
        {{ text }}
    </h2>
    <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#{{ collapse_id }}" aria-expanded="false" aria-controls="#{{ collapse_id }}"> 
        Show/Hide 
    </button>
</div>
<div class="table-responsive {{ collapsed }}" id="{{ collapse_id }}">
    <table class="table table-hover table-sm">
        <thead>
            <tr>
                <th scope="col">Monster</th>
                <th scope="col">Build</th>
                <th scope="col">Avg. Runes Eff.</th>
                <th scope="col">Skilled Up</th>
            </tr>
        </thead>
        <tbody>
            {% for record in records %}
                <tr>
                    <td>
                        <a href="{% url 'monster_by_id' arg_id=record.homunculus.id %}" class="table-monster-href">
                            <img src="{% static 'website/images/monsters/'|get_monster_avatar:record.homunculus %}" class="table-monster-avatar" />
                        </a>
                    </td>
                    <td>{{ record.build }}</td>
                    <td>{{ record.homunculus.avg_eff|add_str:"%" }}</td>
                    <td>{% if record.homunculus|check_skillups %}
                            <span data-feather="check" style="color: green;"></span>
                        {% else %}
                            <span data-feather="slash" style="color: red;"></span>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
            <script>
                feather.replace()
                function goToMonster(href){
                    document.location.href = document.location.origin + href;
                }
            </script>
        </tbody>
    </table>
</div>